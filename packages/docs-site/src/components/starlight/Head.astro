---
import type { Props } from "@astrojs/starlight/props";
import Default from "@astrojs/starlight/components/Head.astro";

// Get the URL of the generated image for the current page using its
// ID and replace the file extension with `.png`.
const ogImageUrl = new URL(
  `/og/${Astro.props.id.replace(/\.\w+$/, ".png")}`,
  Astro.site
);
---

<!-- Render the default <Head/> component. -->
<Default {...Astro.props}><slot /></Default>

<!-- Render the <meta/> tags for the Open Graph images. -->
<meta property="og:image" content={ogImageUrl} />
<meta name="twitter:image" content={ogImageUrl} />

<!-- Cookbook Onboard (AI Assistant). API key is public so it's fine to just hardcode it here. -->
<div id="__cookbook" data-api-key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2NjY4ODY4MmRlY2E0Zjc3NDFkZmFlMjkiLCJpYXQiOjE3MTgxMjYyMTAsImV4cCI6MjAzMzcwMjIxMH0.VDufzFwmgusBMPD-iDMGVlxT8454jSR3FiKuilsL-5w" />
<script is:inline src="https://cdn.jsdelivr.net/npm/@cookbookdev/docsbot/dist/standalone/index.cjs.js" defer></script>
